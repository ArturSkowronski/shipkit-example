apply plugin: "org.mockito.release-notes"
apply plugin: "org.mockito.release-tools.versioning"
apply from: "gradle/cd.gradle"

notes {
    notesFile = file("docs/release-notes.md")
    gitHubRepository = "mockito/mockito-release-tools-example"
    gitHubAuthToken = "e7fe8fcdd6ffed5c38498c4c79b2a68e6f6ed1bb" //read-only token
    gitHubLabelMapping = ["noteworthy": "Noteworthy", "bugfix": "Bugfixes"]
}

ext {
    genericGitUserName = "Mockito Release Tools"
    genericGitUserEmail = "<mockito.release.tools@gmail.com>"
    gitHubUser = "szczepiq"
    releasableBranchRegex = "master|release/.+"  // matches 'master', 'release/2.x', 'release/3.x', etc.
}

allprojects {
    plugins.withId("com.jfrog.bintray") {
        bintray {
            pkg {
                repo = 'mockito-release-tools-example-repo'
                userOrg = 'mockito'
                name = 'mockito-release-tools-example'
                websiteUrl = 'http://mockito.org'
                issueTrackerUrl = 'https://github.com/mockito/mockito-release-tools-example/issues'
                vcsUrl = 'https://github.com/mockito/mockito-release-tools-example.git'
                licenses = ['MIT']
                labels = ['continuous delivery', 'release automation', 'mockito']
            }
        }
    }
}